/*PRODUTO*/
CREATE TABLE tb_prdt (
    cdg_prdt INTEGER PRIMARY KEY AUTOINCREMENT,
    ttl_prdt VARCHAR(30) NOT NULL,
    dscr_prdt VARCHAR(50),
    mrc_prdt VARCHAR(30),
    dt_cdstr_prdt DATE NOT NULL,
    ctgr_prdt VARCHAR(30),
    sb_ctgr_prdt VARCHAR(30),
    qtd_estq_prdt INTEGER NOT NULL,
    prc_prdt DOUBLE NOT NULL,
)
/*USUARIO*/
CREATE TABLE tb_usr (
    cdg_usr INTEGER PRIMARY KEY AUTOINCREMENT,
    nm_usr VARCHAR(50) NOT NULL,
    eml_usr VARCHAR(50) NOT NULL,
    snh_usr VARCHAR(30) NOT NULL,
    ndrc_usr VARCHAR(100),
    tlfn_usr INTEGER
)
/*NAO E NECESSARIO PERSISTIR UM CARRINHO
CARRINHO POSSUI UM USUARIO
CREATE TABLE tb_crrnh (
    cdg_crrnh INT PRIMARY KEY,
    cdg_usr INT,
    vlr_crrnh DOUBLE,
    CONSTRAINT fk_crrnh_usr FOREIGN KEY (cdg_usr) REFERENCES tb_usr(cdg_usr)
)
*/
/*NAO E NECESSARIO PERSISTIR UM ITEM
ITEM POSSUI UM PRODUTO ESTA EM UM CARRINHO
CREATE TABLE tb_itm (
    cdg_itm INT PRIMARY KEY,
    cdg_prdt INT NOT NULL,
    cdg_crrnh INT NOT NULL,
    qtd_itm INT NOT NULL,
    CONSTRAINT fk_itm_prdt FOREIGN KEY (cdg_prdt) REFERENCES tb_prdt(cdg_prdt),
    CONSTRAINT fk_itm_crrnh FOREIGN KEY (cdg_crrnh) REFERENCES tb_crrnh(cdg_crrnh)
)
*/
/*PEDIDO POSSUI E UM PRODUTO UM USUARIO*/
CREATE TABLE tb_pdd (
    cdg_pdd INTEGER PRIMARY KEY AUTOINCREMENT,
    cdg_usr INTEGER NOT NULL,
    cdg_prdt INTEGER NOT NULL,
    qtd_prdt INTEGER NOT NULL,
    prc_pdd DOUBLE NOT NULL,
    dt_pdd DATE,
    CONSTRAINT fk_pdd_usr FOREIGN KEY (cdg_usr) REFERENCES tb_usr(cdg_usr),
    CONSTRAINT fk_pdd_prdt FOREIGN KEY (cdg_prdt) REFERENCES tb_prdt(cdg_prdt)
)
CREATE TABLE tb_intrc (
    cdg_intrc INTEGER PRIMARY KEY AUTOINCREMENT,
    cdg_usr INTEGER NOT NULL,
    cdg_prdt INTEGER NOT NULL,
    CONSTRAINT fk_intrc_usr FOREIGN KEY (cdg_usr) REFERENCES tb_usr(cdg_usr),
    CONSTRAINT fk_intrc_prdt FOREIGN KEY (cdg_prdt) REFERENCES tb_prdt(cdg_prdt)
)